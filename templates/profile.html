{% extends "base.html" %}
{% block title %}TTH Market - Profile{% endblock %}

{% block content %}
<div class="container mt-3">
    <div class="d-flex align-items-center mb-4">
        {% if user.photo_url %}
        <img src="{{ user.photo_url }}" class="profile-avatar" alt="Avatar">
        {% else %}
        <div class="avatar-placeholder">{{ user.username[0]|upper }}</div>
        {% endif %}
        <div class="ml-3">
            <h2>{{ user.username }}</h2>
            <p class="text-muted">ID: {{ user_id }}</p>
            <p>–ë–∞–ª–∞–Ω—Å: {{ user.balance }} üíé</p>
        </div>
    </div>

    <h4>–ö–æ–ª–ª–µ–∫—Ü–∏—è –Ω–æ–º–µ—Ä–æ–≤</h4>
    <div class="row">
        {% for token in user.tokens %}
        <div class="col-6 col-md-4 mb-3">
            <div class="token-card" 
                 style="background: linear-gradient(135deg, {{ token.bg_color }}, {{ token.bg_color|color_darker }});
                        color: {{ token.text_color }};">
                <div class="rarity-badge">{{ token.overall_rarity }}</div>
                <div class="token-number">{{ token.token }}</div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<style>
    .profile-avatar {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid #dee2e6;
    }

    .avatar-placeholder {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: #6c757d;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
    }

    .token-card {
        border-radius: 10px;
        padding: 15px;
        height: 120px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .token-number {
        font-family: 'Lilita One', sans-serif;
        font-size: 1.8rem;
        font-weight: 600;
    }

    .rarity-badge {
        position: absolute;
        top: 5px;
        right: 5px;
        background: rgba(0, 0, 0, 0.6);
        color: white;
        padding: 3px 8px;
        border-radius: 6px;
        font-size: 0.8rem;
    }
</style>
{% endblock %}
